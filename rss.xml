<?xml version="1.0" encoding="UTF-8"?><rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title><![CDATA[zit's Blog RSS Feed]]></title><description><![CDATA[Personal blog by zit. Just write something.]]></description><link>https://zitup.github.io/overlog</link><generator>GatsbyJS</generator><lastBuildDate>Sun, 31 Jan 2021 08:53:59 GMT</lastBuildDate><item><title><![CDATA[æœ€è¿‘è¯»çš„å‡ ç¯‡ react æ–‡ç« ]]></title><description><![CDATA[è€æ–‡ç« è¯»æ¥ä¹Ÿæœ‰æ”¶è·ã€‚]]></description><link>https://zitup.github.io/overlog/react-learn-1/</link><guid isPermaLink="false">https://zitup.github.io/overlog/react-learn-1/</guid><pubDate>Sat, 23 Jan 2021 00:00:00 GMT</pubDate><content:encoded>&lt;h2 id=&quot;react-components-elements-and-instances&quot;&gt;&lt;a href=&quot;#react-components-elements-and-instances&quot; aria-hidden class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;React Components, Elements, and Instances&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;Components æ˜¯åˆ›å»ºçš„ç»„ä»¶ã€‚&lt;/li&gt;
&lt;li&gt;Instances æ˜¯åˆ›å»ºçš„ç»„ä»¶çš„å®ä¾‹ï¼Œæ¯”å¦‚ï¼Œåˆ›å»ºäº†ä¸€ä¸ª&lt;code class=&quot;language-text&quot;&gt;&amp;lt;Button /&amp;gt;&lt;/code&gt;ç»„ä»¶ï¼Œåœ¨&lt;code class=&quot;language-text&quot;&gt;&amp;lt;Form /&amp;gt;&lt;/code&gt;ä¸­ä½¿ç”¨äº†å¾ˆå¤šæ¬¡ï¼Œé‚£ä¹ˆæ¯ä¸€ä¸ªå°±æ˜¯ä¸€ä¸ªå®ä¾‹ã€‚&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Elements æ˜¯ä¸€ä¸ªæ™®é€šå¯¹è±¡ï¼Œç”¨æ¥æè¿°ä¸Šé¢è¯´çš„ç»„ä»¶å®ä¾‹ã€åŸç”Ÿ Dom å…ƒç´ ï¼Œå’Œå®ƒä»¬çš„å±æ€§ã€‚æ¯”å¦‚ï¼š&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  type&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;button&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  props&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
     className&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;button button-blue&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
     children&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        type&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;b&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        props&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        children&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;OK!&apos;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
     &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;æœ¬è´¨å°±æ˜¯ä¸€ä¸ª objectï¼Œæè¿°ä¸€ä¸ªåŸç”ŸæŒ‰é’®ï¼ŒåŒ…æ‹¬å®ƒçš„å±æ€§ã€å­å…ƒç´ ã€‚å¦‚æœæ˜¯æè¿°ä¸€ä¸ª instanceï¼Œtype ä¼šæ˜¯å®šä¹‰çš„ç»„ä»¶ï¼Œæ¯”å¦‚ï¼š&lt;code class=&quot;language-text&quot;&gt;type: &amp;#39;Button&amp;#39;&lt;/code&gt;ã€‚
React å¯¹è¿™ä¸¤ç±»çš„å¤„ç†æœ‰ä»€ä¹ˆä¸ä¸€æ ·å‘¢ï¼Ÿå¦‚æœæ˜¯å®ä¾‹ç±»å‹ï¼ŒReact ä¼šè¯¢é—®å¯¹åº”ç»„ä»¶æ¸²æŸ“è¿”å›çš„å†…å®¹ã€‚è€Œç»„ä»¶è¿”å›çš„ä¹Ÿæ˜¯ä¸€ä¸ª element å¯¹è±¡ã€‚è¿™æ ·å‘¨è€Œå¤å§‹ï¼ŒReact å°±ç»„å»ºäº†ä¸€ä¸ªæè¿°ç•Œé¢æ‰€éœ€çš„æ‰€æœ‰å…ƒç´ çš„æ™®é€šå¯¹è±¡ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Top-Down Reconciliation&lt;br&gt;
ä¸Šé¢æè¿°çš„è¿‡ç¨‹å¤§æ¦‚æ˜¯é…±ç´«ï¼Œå‡è®¾æ ¹ç»„ä»¶æ˜¯ä¸€ä¸ª Form&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;ReactDom&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;render&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;Form&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;isSubmitted&lt;/span&gt;&lt;span class=&quot;token script language-javascript&quot;&gt;&lt;span class=&quot;token script-punctuation punctuation&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;buttonText&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;ok&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;queryElementById&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;root&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;React é¦–å…ˆä¼šé—® Form è¿”å›ä»€ä¹ˆæ ·çš„ element treeï¼Œå†åŸºäºè¿™ä¸ªæ ‘ï¼Œå±‚å±‚å¾€ä¸‹çš„æ„å»ºä¸€æ•´ä¸ªæ ‘&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// Form&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  type&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Form&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  props&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
     isSubmitted&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
     buttonText&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;OK!&apos;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// Form å‘Šè¯‰ React è¿”å›çš„ element ç»“æ„&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  type&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; Button&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  props&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
     children&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;OK!&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
     color&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;blue&apos;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// Button å†å‘Šè¯‰ React è¿”å›çš„ element ç»“æ„&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  type&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;button&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  props&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
     className&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;button button-blue&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
     children&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        type&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;b&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
        props&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        children&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;OK!&apos;&lt;/span&gt;
        &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
     &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token comment&quot;&gt;// åˆ°åŸç”Ÿå…ƒç´ å°±ç»“æŸäº†&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ä¸Šé¢çš„è¿‡ç¨‹æ˜¯ React reconciliation çš„ä¸€éƒ¨åˆ†ï¼Œå®ƒç»“æŸçš„æ—¶å€™ï¼ŒReact å·²ç»æœ‰äº†å®Œæˆçš„ä¸€ä¸ª element treeã€‚ç„¶å React renderer ä¼šå°†æœ€å°çš„æ”¹åŠ¨é›†åˆåº”ç”¨åˆ°ç•Œé¢ä¸Šã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;å€¼å¾—è¯´æ˜çš„æ˜¯ï¼Œinstances åœ¨ React ä¸­å¹¶ä¸é‡è¦ï¼Œå®ƒè‡ªå·±ä¼šåˆ›å»ºæ¯ä¸€ä¸ªç±»ç»„ä»¶çš„å®ä¾‹å¹¶ç®¡ç†å®ƒã€‚&lt;/p&gt;
&lt;h2 id=&quot;reconciliation&quot;&gt;&lt;a href=&quot;#reconciliation&quot; aria-hidden class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Reconciliation&lt;/h2&gt;
&lt;p&gt;æ˜¯ React ä¸­è´Ÿè´£å¤„ç†æ›´æ–°çš„æ¨¡å—ï¼ŒåŒ…å«äº† Diff ç®—æ³•ã€‚
å› ä¸ºä½¿ç”¨ç°æœ‰ç®—æ³•æ¯”è¾ƒä¸¤ä¸ª element treeï¼Œå¤æ‚åº¦å¤ªé«˜ï¼ŒReact å®šä¹‰äº†ä¸¤ä¸ªå‡è®¾ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ä¸¤ä¸ªä¸ä¸€æ ·ç±»å‹çš„å…ƒç´ ä¼šäº§ç”Ÿä¸åŒçš„æ ‘&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å¼€å‘è€…å¯ä»¥é€šè¿‡ key å±æ€§æ¥æ ‡ç¤ºæŸä¸ªå…ƒç´ åœ¨ä¸åŒçš„æ¸²æŸ“ä¸­å¯èƒ½æ˜¯ä¸å˜çš„&lt;/p&gt;
&lt;h3 id=&quot;the-diffing-algorithm&quot;&gt;&lt;a href=&quot;#the-diffing-algorithm&quot; aria-hidden class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;The Diffing Algorithm&lt;/h3&gt;
&lt;p&gt;React åœ¨æ¯”è¾ƒæ ‘æ—¶ï¼Œä¼šå…ˆå¯¹æ¯”æ ¹å…ƒç´ ï¼Œå¦‚æœä¸¤ä¸ªå…ƒç´ ä¸ä¸€æ ·ï¼Œä¼šç›´æ¥èˆå¼ƒæ—§æ ‘ï¼Œæ„å»ºæ–°æ ‘ã€‚èˆå¼ƒæ—§æ ‘æ—¶ï¼Œå¦‚æœæ˜¯ class ç»„ä»¶ï¼Œ &lt;code class=&quot;language-text&quot;&gt;componentWillUnmount()&lt;/code&gt; ä¼šè¢«è°ƒç”¨ã€‚æ„å»ºæ–°æ ‘æ—¶ï¼Œ&lt;code class=&quot;language-text&quot;&gt;UNSAFE_componentWillMount()&lt;/code&gt; ä¼šè¢«è°ƒç”¨ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;å½“æ¯”è¾ƒç›¸åŒç±»å‹çš„ Dom ç±»å…ƒç´ æ—¶ï¼ŒReact åªä¼šæŸ¥æ‰¾å±æ€§å¹¶&lt;strong&gt;åª&lt;/strong&gt;æ›´æ–°æ”¹å˜çš„ã€‚å½“å¤„ç†å®Œå½“å‰å…ƒç´ æ—¶ï¼Œä¼šéå†(recurse)å¤„ç†å®ƒçš„å­å…ƒç´ ã€‚&lt;/p&gt;
&lt;p&gt;å½“æ¯”è¾ƒç›¸åŒç±»å‹çš„ç»„ä»¶å®ä¾‹æ—¶ï¼ŒReact ä¼šæ›´æ–°å®ä¾‹çš„ propsï¼Œå¹¶è°ƒç”¨ &lt;code class=&quot;language-text&quot;&gt;UNSAFE_componentWillReceiveProps()&lt;/code&gt;ï¼Œ&lt;code class=&quot;language-text&quot;&gt;UNSAFE_componentWillUpdate()&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;componentDidUpdate()&lt;/code&gt;ã€‚16.3 ä¹‹åçš„ç‰ˆæœ¬ï¼Œä¼šè°ƒç”¨ &lt;code class=&quot;language-text&quot;&gt;static getDerivedStateFromProps()&lt;/code&gt;ã€‚
éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œç»„ä»¶çš„çŠ¶æ€ä¼šè·¨é™¢æ›´æ–°å­˜åœ¨ã€‚&lt;/p&gt;
&lt;p&gt;ç„¶åï¼Œ&lt;code class=&quot;language-text&quot;&gt;render()&lt;/code&gt;æ–¹æ³•è¢«è°ƒç”¨ï¼Œreact ä¼šå¯¹è¿”å›çš„ç»“æœå’Œä¹‹å‰çš„ç»“æœï¼Œé€’å½’çš„æ‰§è¡Œ diff ç®—æ³•ã€‚&lt;/p&gt;
&lt;h3 id=&quot;recursing-on-children&quot;&gt;&lt;a href=&quot;#recursing-on-children&quot; aria-hidden class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Recursing On Children&lt;/h3&gt;
&lt;p&gt;é»˜è®¤æƒ…å†µä¸‹ï¼Œå¯¹äº Dom å…ƒç´ ï¼ŒReact åŒä¸€æ—¶é—´æ¯”å¯¹å®ƒä»¬çš„å­å…ƒç´ ï¼ŒåŒä¸€ä½ç½®åªè¦ä¸ä¸€æ ·å°±ä¼šç”Ÿæˆä¸€ä¸ªæ”¹å˜ã€‚è€Œä¸‹é¢çš„ä¾‹å­ 1 å’Œ 2ï¼Œæ€§èƒ½æ–¹é¢æ˜æ˜¾æ˜¯ 2 å¥½äº 1 çš„ï¼Œå› ä¸º React ä¸çŸ¥é“å“ªäº›å…ƒç´ å¯ä»¥ä¿ç•™å¤ç”¨ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;   &lt;span class=&quot;token comment&quot;&gt;// 1&lt;/span&gt;
   &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;ul&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;li&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;first&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;li&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;li&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;second&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;li&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
   &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;ul&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;

   &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;ul&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;li&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;first&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;li&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;li&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;second&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;li&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;li&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;third&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;li&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
   &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;ul&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;   &lt;span class=&quot;token comment&quot;&gt;// 2&lt;/span&gt;
   &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;ul&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;li&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;Duke&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;li&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;li&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;Villanova&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;li&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
   &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;ul&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;

   &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;ul&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;li&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;Connecticut&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;li&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;li&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;Duke&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;li&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;li&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;Villanova&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;li&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
   &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;ul&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;æ‰€ä»¥ï¼Œæˆ‘ä»¬ä½¿ç”¨ key å±æ€§å‘Šè¯‰ Reactï¼Œå“ªäº›å…ƒç´ åœ¨æ›´æ–°å‰åæ˜¯åŒä¸€ä¸ªå…ƒç´ ï¼Œå¦‚æœæ›´æ–°åä»ç„¶å­˜åœ¨ï¼ŒReact éœ€è¦åšçš„å¯èƒ½å°±æ˜¯æ›´æ–°ä¸€ä¸‹å±æ€§ï¼ŒæŒªåŠ¨ä¸€ä¸‹ä½ç½®ï¼Œè€Œä¸ç”¨é‡æ–°ç”Ÿæˆï¼Œæé«˜äº†æ€§èƒ½ã€‚&lt;/p&gt;
&lt;p&gt;è¿™é‡Œæœ‰ä¸ªéœ€è¦æ³¨æ„çš„åœ°æ–¹ï¼Œä¸è¦ä½¿ç”¨æ•°ç»„ç´¢å¼•ä½œä¸º keyï¼Œå°¤å…¶æ˜¯åœ¨æ•°ç»„ä¼šé‡æ–°æ’åºçš„æƒ…å†µä¸‹ã€‚ä¸ºä»€ä¹ˆå‘¢ï¼Ÿé€šè¿‡ä¸Šé¢å¯ä»¥çŸ¥é“ï¼ŒReact ä½¿ç”¨ key æ¥ç¡®è®¤åŒä¸€ä¸ªå…ƒç´ ï¼Œç„¶ååªæ›´æ–°å®ƒçš„ propsã€‚è¿™é‡Œçš„å…ƒç´ å¯èƒ½æ˜¯ Dom èŠ‚ç‚¹ï¼Œä¹Ÿå¯èƒ½æ˜¯ç»„ä»¶å®ä¾‹ã€‚
å¯¹äº Dom èŠ‚ç‚¹ï¼Œä¸»è¦æ˜¯ form ç±»å…ƒç´ ï¼Œå®ƒä»¬æœ‰é»˜è®¤çš„å†…éƒ¨çŠ¶æ€(æ²¡æœåˆ°æµè§ˆå™¨å¯¹äºæ­¤ç±»å…ƒç´ å¯¹å¤„ç†)ã€‚å¯¹äºå®ä¾‹ï¼Œæˆ‘ä»¬å‡è®¾å®ƒå†…éƒ¨æœ‰ form ç±»å…ƒç´ ï¼Œæˆ–è€…æœ‰è‡ªå·±çš„çŠ¶æ€ã€‚ç„¶åè§¦å‘ä¸€æ¬¡å€’åºæ’åˆ—ï¼Œå› ä¸ºä½¿ç”¨æ•°ç»„ç´¢å¼•ä½œä¸º keyï¼Œæ‰€ä»¥åŒä¸€ä½ç½®çš„ key ä¸å˜ã€‚
react åœ¨ diff æ–°æ ‘å’Œæ—§æ ‘æ—¶ï¼Œå‘ç°åŒä¸€ä½ç½®çš„ key ä¸€è‡´ï¼Œå°±åªæ›´æ–°å®ƒçš„ propsï¼Œä¿ç•™å®ƒçš„çŠ¶æ€ã€‚è¿™å°±äº§ç”Ÿäº†é—®é¢˜ï¼Œ&lt;strong&gt;æ›´æ–°å®Œåæ’åœ¨ç¬¬ä¸€ä¸ªçš„å®ä¾‹ï¼Œä½¿ç”¨çš„æ˜¯æœ€åä¸€ä¸ªå®ä¾‹çš„ propsï¼Œä½† state è¿˜æ˜¯æ›´æ–°ä¹‹å‰çš„çŠ¶æ€&lt;/strong&gt;ã€‚
æˆ‘æ”¹äº†ä¸‹&lt;a href=&quot;https://reactjs.org/redirect-to-codepen/reconciliation/index-used-as-key&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;å®˜æ–¹&lt;/a&gt;çš„ä¾‹å­ï¼Œåœ¨ input å…ƒç´ çš„é»˜è®¤çŠ¶æ€ä¹‹å¤–ï¼ŒåŠ äº†ä¸ªè‡ªå·±å®šä¹‰çš„çŠ¶æ€ï¼Œå¯ä»¥æ›´æ¸…æ¥šçš„çœ‹åˆ°ï¼Œprops æ”¹å˜ï¼Œstate æœªå˜ï¼š&lt;a href=&quot;https://codesandbox.io/s/stupefied-snow-f1bxb?file=/src/App.js&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;https://codesandbox.io/s/stupefied-snow-f1bxb?file=/src/App.js&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;Math.random()&lt;/code&gt;ä¹Ÿä¸è¦ç”¨ï¼Œæ¯æ¬¡æ›´æ–° key éƒ½ä¸ä¸€æ ·ï¼Œä¼šå¯¼è‡´ä¸å¿…è¦çš„å®ä¾‹åˆ›å»ºã€‚&lt;/p&gt;
                &lt;div style=&quot;margin-top=55px; font-style: italic;&quot;&gt;(This is an article posted to my blog at write.of-my.life. You can read it online by &lt;a href=&quot;https://zitup.github.io/overlog/react-learn-1/&quot;&gt;clicking here&lt;/a&gt;.)&lt;/div&gt;
              </content:encoded></item><item><title><![CDATA[æ€ä¹ˆç”¨ nodejs å†™ä¸€ä¸ª Git Hook]]></title><description><![CDATA[Git Hook]]></description><link>https://zitup.github.io/overlog/git-hook/</link><guid isPermaLink="false">https://zitup.github.io/overlog/git-hook/</guid><pubDate>Sun, 27 Dec 2020 00:00:00 GMT</pubDate><content:encoded>&lt;h3 id=&quot;ä»‹ç»-git-hook&quot;&gt;&lt;a href=&quot;#%E4%BB%8B%E7%BB%8D-git-hook&quot; aria-hidden class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;ä»‹ç» Git Hook&lt;/h3&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;Git Hook&lt;/code&gt; æ˜¯ Git æ‰§è¡Œå‘½ä»¤æ—¶å‰åå¯ä»¥è§¦å‘çš„çš„è„šæœ¬ï¼Œæ¯”å¦‚ pre-commit ï¼Œåœ¨æäº¤å‰æ‰§è¡ŒæŸäº›ä¸œè¥¿ï¼Œè¿™ä¸ªä¹Ÿæ˜¯åœ¨å‰ç«¯ä½“ç³»ä¸­ç”¨çš„è¾ƒå¤šçš„ä¸€ä¸ª Hookï¼Œå¸¸è§çš„ä½¿ç”¨ä¸€èˆ¬ä¹Ÿæ˜¯æ­é… Husky å’Œ lint-staged ï¼Œåšä»£ç æäº¤å‰çš„æ£€æŸ¥ã€‚è¿˜æœ‰å…¶ä»–çš„æ¯”å¦‚ï¼Œpre-rebase ã€ post-rewrite ã€post-checkout ã€post-merge ï¼Œçœ‹åå­—å°±çŸ¥é“ä»–ä»¬çš„æ‰§è¡Œæ—¶é—´äº†ã€‚&lt;/p&gt;
&lt;h3 id=&quot;æ€ä¹ˆå¿«é€Ÿåˆ›å»ºè‡ªå·±çš„é’©å­ï¼Ÿ&quot;&gt;&lt;a href=&quot;#%E6%80%8E%E4%B9%88%E5%BF%AB%E9%80%9F%E5%88%9B%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E9%92%A9%E5%AD%90%EF%BC%9F&quot; aria-hidden class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;æ€ä¹ˆå¿«é€Ÿåˆ›å»ºè‡ªå·±çš„é’©å­ï¼Ÿ&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;åˆ›å»ºä¸€ä¸ªæ–‡ä»¶ï¼Œå‘½åä¸ºå¯¹åº”çš„é’©å­åç§°ï¼Œè¯­è¨€éšä¾¿ï¼Œè¿™é‡Œç”¨çš„nodejs&lt;/li&gt;
&lt;li&gt;å°†æ–‡ä»¶æ”¾åˆ°é¡¹ç›®ä¸‹çš„ .git/hooks&lt;/li&gt;
&lt;li&gt;chmod 777 xxx(ä½ çš„æ–‡ä»¶) ï¼Œå°†æ–‡ä»¶æ”¹ä¸ºå¯æ‰§è¡Œæ–‡ä»¶&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ä½¿ç”¨å¯¹åº”çš„ git å‘½ä»¤ï¼Œé’©å­å°±ç”Ÿæ•ˆå•¦&lt;/p&gt;
&lt;h3 id=&quot;æœ¬æ–‡ä¸»è§’--pre-commit&quot;&gt;&lt;a href=&quot;#%E6%9C%AC%E6%96%87%E4%B8%BB%E8%A7%92--pre-commit&quot; aria-hidden class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;æœ¬æ–‡ä¸»è§’ ğŸ‘‰ pre-commit&lt;/h3&gt;
&lt;p&gt;ç›´æ¥ä¸Šä»£ç &lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;#&lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;usr&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;bin&lt;span class=&quot;token operator&quot;&gt;/&lt;/span&gt;env node

&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; execSync &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;child_process&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// å®¢æˆ·ç«¯æ–‡ä»¶å¤¹åç§°&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; client &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;client-src&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;try&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
 &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; stagedFile &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;execSync&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;git diff --cached --name-only&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;encoding&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;utf-8&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

 &lt;span class=&quot;token comment&quot;&gt;// æäº¤æ–‡ä»¶åŒ…å« client ä¸‹æ–‡ä»¶ï¼Œä¸åŒ…å« views/index.html&lt;/span&gt;
 &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;stagedFile&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;includes&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;client&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;stagedFile&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;includes&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;index.html&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
   &lt;span class=&quot;token function&quot;&gt;execSync&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token template-string&quot;&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;cd &lt;/span&gt;&lt;span class=&quot;token interpolation&quot;&gt;&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;${&lt;/span&gt;client&lt;span class=&quot;token interpolation-punctuation punctuation&quot;&gt;}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt; &amp;amp;&amp;amp; npm run build&lt;/span&gt;&lt;span class=&quot;token template-punctuation string&quot;&gt;`&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
   process&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;exit&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
 &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  process&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;exit&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
 &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;catch&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;e&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
 console&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;e&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
 process&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;exit&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ä»£ç çš„ç›®çš„æ˜¯å½“ staged çš„æ–‡ä»¶ä¸­åŒ…å« client ä¸‹çš„æ–‡ä»¶æ—¶ï¼Œåœ¨ client ä¸‹æ‰§è¡Œ buildï¼Œè·Ÿæˆ‘ä»¬çš„é¡¹ç›®ç»“æ„æœ‰å…³ã€‚
&lt;code class=&quot;language-text&quot;&gt;git diff --cached --name-only&lt;/code&gt; æ˜¯è·å– stage çš„æ–‡ä»¶ï¼Œå¯ä»¥æ ¹æ®æ¡ä»¶æ¥æ‰§è¡ŒæŸäº›é€»è¾‘ã€‚
process.exit(0) æ˜¯å¯ä»¥ç»§ç»­æ‰§è¡Œ commitï¼Œ0 ä¹‹å¤–çš„è¿”å›ï¼Œä¼šæ‰“æ–­ commit ã€‚&lt;/p&gt;
&lt;p&gt;So easy? å°±æ˜¯è¿™ä¹ˆç®€å•ï¼Œç„¶é¹…ä¸å¾—ä¸è¯´ git æ˜¯ä¸ªå¾ˆåºå¤§çš„æŠ€æœ¯æ ˆï¼Œæ•°ä¸æ¸…çš„å‘½ä»¤â€¦&lt;/p&gt;
&lt;p&gt;å¿«å»è¯•è¯•ä½ è‡ªå·±çš„é’©å­å§ï½ä¸è¦å¿˜äº† chmod 777 èµ‹äºˆæ–‡ä»¶å¯æ‰§è¡Œæƒé™å“Ÿï½&lt;/p&gt;
                &lt;div style=&quot;margin-top=55px; font-style: italic;&quot;&gt;(This is an article posted to my blog at write.of-my.life. You can read it online by &lt;a href=&quot;https://zitup.github.io/overlog/git-hook/&quot;&gt;clicking here&lt;/a&gt;.)&lt;/div&gt;
              </content:encoded></item><item><title><![CDATA[react - useEffect å°è®°]]></title><description><![CDATA[useEffect å’Œ useLayoutEffect]]></description><link>https://zitup.github.io/overlog/react-useEffect/</link><guid isPermaLink="false">https://zitup.github.io/overlog/react-useEffect/</guid><pubDate>Sun, 29 Nov 2020 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;useEffect&lt;/code&gt; åœ¨æ¸²æŸ“åæ‰§è¡Œï¼Œå‡å¦‚åœ¨ &lt;code class=&quot;language-text&quot;&gt;useEffect&lt;/code&gt; æœ‰ä¸€ä¸ª &lt;code class=&quot;language-text&quot;&gt;state&lt;/code&gt;ï¼Œä¼šå½±å“ç•Œé¢çš„å˜åŒ–ï¼Œæ­¤æ—¶ï¼Œåœ¨ç”¨æˆ·çœ¼ä¸­ï¼Œç•Œé¢ä¼šå‘ç”Ÿå¯è§çš„é—ªçƒ&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;isShowA&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; setIsShowA&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;useState&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;useEffect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;setIsShowA&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;isShowA &lt;span class=&quot;token operator&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;A&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;B&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ä¸Šè¿°ä»£ç ï¼Œä¼šå…ˆæŠŠ B ç»„ä»¶æ¸²æŸ“åˆ°ç•Œé¢ä¸Šï¼Œæ‰§è¡Œå‰¯ä½œç”¨ä¹‹åï¼Œä¼šå˜æˆæ¸²æŸ“ Aï¼Œå°±ä¼šé€ æˆâ€œé—ªçƒâ€ã€‚
è§£å†³åŠæ³•å¯ä»¥æ˜¯æŠŠ &lt;code class=&quot;language-text&quot;&gt;useEffect&lt;/code&gt; å˜æˆ &lt;code class=&quot;language-text&quot;&gt;useLayoutEffect&lt;/code&gt;ï¼Œ&lt;code class=&quot;language-text&quot;&gt;useLayoutEffect&lt;/code&gt; ä¼šåŒæ­¥æ‰§è¡Œå‰¯ä½œç”¨ï¼Œå°±æ˜¯åœ¨æ¸²æŸ“ DOM ä¹‹å‰æ‰§è¡Œå‰¯ä½œç”¨ï¼Œè¿™æ ·æ¸²æŸ“æ—¶å°±æ˜¯æœ€åçš„ç•Œé¢ã€‚&lt;/p&gt;
&lt;p&gt;ä¸Šè¿° &lt;code class=&quot;language-text&quot;&gt;useEffect&lt;/code&gt; ä¸­åŒæ­¥çš„ä»£ç ï¼Œå¯ä»¥ç”¨ &lt;code class=&quot;language-text&quot;&gt;useLayoutEffect&lt;/code&gt; å¤„ç†ï¼Œä½†æ˜¯å¦‚æœ &lt;code class=&quot;language-text&quot;&gt;useEffect&lt;/code&gt; ä¸­æ˜¯å¼‚æ­¥çš„ä»£ç ï¼Œæ¯”å¦‚è¯·æ±‚æ•°æ®ï¼š&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token function&quot;&gt;useEffect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;request&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;url&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;res&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;setIsShowA&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;res&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;æ­¤æ—¶ï¼Œæ›¿æ¢æˆ &lt;code class=&quot;language-text&quot;&gt;useLayoutEffect&lt;/code&gt; ä¹Ÿæ²¡ç”¨äº†ï¼Œ&lt;code class=&quot;language-text&quot;&gt;setState&lt;/code&gt; æ“ä½œè¿˜æ˜¯ä¼šåœ¨æ¸²æŸ“å®Œæˆä¹‹åæ‰§è¡Œï¼Œè¿™æ ·å°±éœ€è¦ç”¨å…¶ä»–çš„åŠæ³•ï¼Œæ¯”å¦‚ï¼Œé»˜è®¤è°ä¹Ÿä¸æ¸²æŸ“ï¼Œç­‰çŠ¶æ€ç¡®è®¤ä¹‹åå†æ¸²æŸ“ï¼š&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;isShowA&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; setIsShowA&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;useState&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;isShowB&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; setIsShowB&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;useState&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token function&quot;&gt;useEffect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;request&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;url&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;res&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;res&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token function&quot;&gt;setIsShowA&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token function&quot;&gt;setIsShowB&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
  &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;isShowA &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;A&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;isShowB &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;B&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;è¿™æ ·ä¸ä¼šé€ æˆæ˜æ˜¾çš„ä¸¤ä¸ªç•Œé¢çš„åˆ‡æ¢ï¼Œä½†æ˜¯å¯èƒ½ç•Œé¢ä¼šæœ‰ä¸€ä¸¢ä¸¢çš„æ¸²æŸ“ç¼“æ…¢ï¼Œå¯ä»¥ç”¨ loading ã€ éª¨å±ä¹‹ç±»çš„ç¼“å†²ä¸€ä¸‹ã€‚&lt;/p&gt;
                &lt;div style=&quot;margin-top=55px; font-style: italic;&quot;&gt;(This is an article posted to my blog at write.of-my.life. You can read it online by &lt;a href=&quot;https://zitup.github.io/overlog/react-useEffect/&quot;&gt;clicking here&lt;/a&gt;.)&lt;/div&gt;
              </content:encoded></item><item><title><![CDATA[React v17.0 æ­£å¼å‘å¸ƒå°è®°]]></title><description><![CDATA[react 17!]]></description><link>https://zitup.github.io/overlog/react-17/</link><guid isPermaLink="false">https://zitup.github.io/overlog/react-17/</guid><pubDate>Sun, 15 Nov 2020 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;çœ‹å®Œä¸‰ç¯‡å‘å¸ƒæ–‡æ¡£çš„æ„Ÿå—å°±æ˜¯ï¼Œ&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;react æœ¬æ¬¡å¤§ç‰ˆæœ¬æ›´æ–°å¼ºè°ƒ&lt;strong&gt;æ¸è¿›å¼å‡çº§&lt;/strong&gt;ï¼Œé¿å…ä¸€ä¸ªåº”ç”¨çš„æ•´ä½“ä¿®æ”¹ã€‚&lt;/li&gt;
&lt;li&gt;å·²æœ‰APIæ— å˜åŒ–ï¼Œå†…åœ¨æœ‰äº›æ”¹å˜ã€‚&lt;/li&gt;
&lt;li&gt;å¯¹æˆ‘æ¥è¯´æ˜¯å¥½äº‹ï¼Œæ¯•ç«Ÿç°åœ¨çš„åŸç†è¿˜æ²¡ææ¸…æ¥šï¼Œå†æ¥æ–°çš„å¾ˆéš¾é¡¶ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ä¸‹é¢æ˜¯å…·ä½“çš„å˜åŒ–ï¼š&lt;/p&gt;
&lt;h2 id=&quot;æ— æ–°ç‰¹æ€§&quot;&gt;&lt;a href=&quot;#%E6%97%A0%E6%96%B0%E7%89%B9%E6%80%A7&quot; aria-hidden class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;æ— æ–°ç‰¹æ€§&lt;/h2&gt;
&lt;p&gt;React v17.0 RC ç‰ˆæœ¬å‘å¸ƒåœ¨åŒ—äº¬æ—¶é—´ 8 æœˆ 11 æ—¥å‡Œæ™¨ï¼Œè·ç¦»ä¸Šä¸€æ¬¡å¤§çš„ç‰ˆæœ¬æ›´æ–°ï¼ˆHOOK ç‰ˆæœ¬ï¼Œ2019.2ï¼‰ï¼Œå·²ç»å°†è¿‘ä¸¤å¹´çš„æ—¶é—´ï¼Œæœ¬æ¬¡æ›´æ–°æ²¡æœ‰æ–°ç‰¹æ€§ï¼Œä¸»è¦æ˜¯&lt;strong&gt;å‡çº§ç®€åŒ– React æœ¬èº«&lt;/strong&gt;ï¼Œä¸ºæœªæ¥åšå‡†å¤‡ã€‚&lt;/p&gt;
&lt;h2 id=&quot;é€æ­¥å‡çº§&quot;&gt;&lt;a href=&quot;#%E9%80%90%E6%AD%A5%E5%8D%87%E7%BA%A7&quot; aria-hidden class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;é€æ­¥å‡çº§&lt;/h2&gt;
&lt;p&gt;å½“æœ‰æ–°çš„ç‰ˆæœ¬æ—¶ï¼Œå¯ä»¥é€‰æ‹©éƒ¨åˆ†å‡çº§ï¼Œé¡¹ç›®é‡Œå¯ä»¥æœ‰ä¸¤ä¸ª react çš„ç‰ˆæœ¬ï¼Œ&lt;strong&gt;ä½†æ˜¯å®˜æ–¹éƒ½ä¸å»ºè®®è¿™ä¹ˆæ&lt;/strong&gt;ï¼Œä¸»è¦æ˜¯ä¸ºäº†ä¹ˆåŠæ³•å…¨é‡å‡çº§ react çš„é¡¹ç›®ã€‚
è¿™é‡Œæœ‰ä¸ªç–‘é—®æ˜¯ã€é¡¹ç›®é‡Œå¯ä»¥æœ‰ä¸¤ä¸ª react çš„ç‰ˆæœ¬å‘¢ï¼Ÿã€‘ï¼Œç­”æ¡ˆæ˜¯ä¸¤ä¸ª package.json ï¼Œå‚è€ƒå®˜æ–¹ç»™çš„é€æ­¥å‡çº§ &lt;a href=&quot;https://github.com/reactjs/react-gradual-upgrade-demo/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;demo&lt;/a&gt;ï¼Œçœ‹ä¸‹ç›®å½•ç»“æ„å°±æ¸…æ¥šäº†&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;https://zitup.github.io/overlog/overblog/static/89cb9e756169d6df4f84fa2f5c138d5f/bf505/react.jpg&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 374px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 306.7567567567568%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAA9ABQDASIAAhEBAxEB/8QAGAABAQEBAQAAAAAAAAAAAAAAAAECAwX/xAAVAQEBAAAAAAAAAAAAAAAAAAAAAf/aAAwDAQACEAMQAAAB8vNsYQaqnNFb1MQRXXNRzFf/xAAaEAEBAQEBAQEAAAAAAAAAAAABABACERIx/9oACAEBAAEFAhvpvYnCc5kwnzCc5uv2Jc//xAAUEQEAAAAAAAAAAAAAAAAAAAAw/9oACAEDAQE/AQ//xAAUEQEAAAAAAAAAAAAAAAAAAAAw/9oACAECAQE/AQ//xAAYEAACAwAAAAAAAAAAAAAAAAAQMSAwQf/aAAgBAQAGPwKCOFXf/8QAHxAAAQQBBQEAAAAAAAAAAAAAAQAQITERQVFhobFx/9oACAEBAAE/ISgLnWavCHE98ozphXlEbHlsswjHX9lroqeBoK1FwGzENlsDoN//2gAMAwEAAgADAAAAENsujLjKvP/EABQRAQAAAAAAAAAAAAAAAAAAADD/2gAIAQMBAT8QD//EABQRAQAAAAAAAAAAAAAAAAAAADD/2gAIAQIBAT8QD//EACQQAQEAAgAFAwUAAAAAAAAAAAERACExQVFhwRDR8XGBseHw/9oACAEBAAE/EHptB0D+sa73+hkSXRl3tbyvhMA6He0DziFQdhkXpLznnAVEdAT+MWqs30M6lx5Xv0yhHf644iKJE5ZC7OPOeUxd2O4++MrLO+NpKu2Hw5S1C9fQcWLe3Db3MCmpdX5fQltfY8mS4BV4+x6f/9k=&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;img&quot;
        title=&quot;&quot;
        src=&quot;https://zitup.github.io/overlog/overblog/static/89cb9e756169d6df4f84fa2f5c138d5f/bf505/react.jpg&quot;
        srcset=&quot;/overblog/static/89cb9e756169d6df4f84fa2f5c138d5f/a80bd/react.jpg 148w,
/overblog/static/89cb9e756169d6df4f84fa2f5c138d5f/1c91a/react.jpg 295w,
/overblog/static/89cb9e756169d6df4f84fa2f5c138d5f/bf505/react.jpg 374w&quot;
        sizes=&quot;(max-width: 374px) 100vw, 374px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;legacy æ–‡ä»¶å¤¹æ˜¯è€é¡¹ç›®ï¼Œmodern æ˜¯æ–°é¡¹ç›®ï¼Œåˆ†åˆ«æœ‰ä¸€ä¸ª package.jsonï¼Œé‡Œé¢å°±æ˜¯å¯¹åº”çš„ react ç‰ˆæœ¬å’Œ å…¶ä»–ä¾èµ– react ç‰ˆæœ¬çš„åº“ï¼ˆreact-redux ç­‰ï¼‰ï¼Œè¿™æ ·æ‰“åŒ…çš„æ—¶å€™ï¼Œéµå¾ªä»å†…å¾€å¤–æ‰¾ä¾èµ–çš„åŸåˆ™ï¼Œä¿©ç‰ˆæœ¬å°±å¯ä»¥å…±å­˜äº†ã€‚&lt;/p&gt;
&lt;h2 id=&quot;æ›´æ”¹äº‹ä»¶å§”æ‰˜&quot;&gt;&lt;a href=&quot;#%E6%9B%B4%E6%94%B9%E4%BA%8B%E4%BB%B6%E5%A7%94%E6%89%98&quot; aria-hidden class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;æ›´æ”¹äº‹ä»¶å§”æ‰˜&lt;/h2&gt;
&lt;p&gt;ä¸Šè¿°çš„ä¸¤ä¸ª react ç‰ˆæœ¬å…±å­˜ï¼Œæœ‰ä¸€ä¸ªä¸¥é‡çš„é—®é¢˜ã€‚react çš„äº‹ä»¶å¤„ç†ä¸€ç›´æ˜¯å§”æ‰˜åˆ° document å¤„ç†ï¼Œä¸¤ä¸ªç‰ˆæœ¬å…±å­˜ï¼Œä¼šåœ¨é¡¶å±‚æ³¨å†Œä¸¤ä¸ªäº‹ä»¶å¤„ç†å™¨ï¼Œä¼šç ´å &lt;code class=&quot;language-text&quot;&gt;e.stopPropagation()&lt;/code&gt;ï¼Œå¦‚æœä¸€ä¸ªé˜»æ­¢äº†å†’æ³¡ï¼Œå¦ä¸€ä¸ªè¿˜æ˜¯ä¼šä¼ åˆ°é¡¶å±‚ã€‚å®˜æ–¹ç»™äº†ä¸€ä¸ª &lt;a href=&quot;https://github.com/facebook/react/pull/8117&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;Atom&lt;/a&gt; çš„ä¾‹å­ï¼Œæ²¡ç»†çœ‹ï½
åŸºäºä»¥ä¸ŠåŸå› ï¼Œreact æ”¹å˜äº†äº‹ä»¶å§”æ‰˜å¯¹ä½ç½®ï¼Œåœ¨ react 17 ä¸­ï¼Œäº‹ä»¶å¤„ç†å™¨å°†é™„åŠ åˆ°æ¸²æŸ“ React æ ‘çš„æ ¹ DOM å®¹å™¨ä¸­ã€‚&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; rootNode &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; document&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getElementById&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;id&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
React&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;render&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;token class-name&quot;&gt;App&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;/&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; rootNode&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;17 ä¼šå¯¹äº‹ä»¶è°ƒç”¨ &lt;code class=&quot;language-text&quot;&gt;rootNode.addEventListener&lt;/code&gt;ï¼Œè´´å¼ å›¾&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;https://zitup.github.io/overlog/overblog/static/e2a078bd1be2cfa7b7fb696ef21a0913/1e088/react-event.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 77.70270270270271%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAIAAACZeshMAAAACXBIWXMAAAsTAAALEwEAmpwYAAACLklEQVQoz41TSW/TQBT2vy8SEgckDlzgfyAB56qoCW0IberYTmPHy3gZz+JZ35hxnIaoXHh6svWWb94y3wRvNmLWT4n8GMv3obh6GM7OWa8exbtQfE7kh0i+fRJXL/4AKTdrqydtrENmnDwSziGv9TGh0e7SGYxnceA/tlhBl8z2+FrcnHOWCawsYAk9ZXVdss2XIVsovAcj3csBTNleASakp9Sb4NwcOlXGPcmLMstSW9yBpJYhg9NzHQComzbPiwqho+n+VvYHDUJwzvMSaUUNb5weDClAsTnJWCukpJRWqLbH/Bkd+L/Qlmvw4bLFMRkUyZ1iIInlzREJXFvmt9WRsOojYkos3LmyB2Ptnopmm6NOKtUffOfOyBnsJ2TKdNot4vzrusyZ+X2gNVUnMDewOrQ/kmJd4p9xig+/nAMrMGg+L73m6va5uomLb+vselv4TWSt8JNPYCTtfdE9DeOW2zgNd/le+m4ZcqCnyxvHbdM/YrmsdSTG75siH0zFtO8o8LGol/eIPKBu3ZJtFj8UbUmZ4N28LW7dCtFFLZeNusPmeteGLdsTLa0NjJvAy132LNymJUnbhtTUQvnrmcEDjDdJHvYy4nBbyQ1WEVF4Knxsu1UmrLqEiKiuQwapcBIuaTWmHd1hft/IVSPjwZXqdNPBzAEqVUpFyjVS4Pt8RUvrScJVRE02WM9w5S5Icspwoyek/ZfRFwkKRmWs54w2Btzlw/g/OSIn9TP/AaVAj5NzJUkZAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;img&quot;
        title=&quot;&quot;
        src=&quot;https://zitup.github.io/overlog/overblog/static/e2a078bd1be2cfa7b7fb696ef21a0913/fcda8/react-event.png&quot;
        srcset=&quot;/overblog/static/e2a078bd1be2cfa7b7fb696ef21a0913/12f09/react-event.png 148w,
/overblog/static/e2a078bd1be2cfa7b7fb696ef21a0913/e4a3f/react-event.png 295w,
/overblog/static/e2a078bd1be2cfa7b7fb696ef21a0913/fcda8/react-event.png 590w,
/overblog/static/e2a078bd1be2cfa7b7fb696ef21a0913/1e088/react-event.png 840w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;è¿™æ ·ï¼Œä¸¤ä¸ªç‰ˆæœ¬å¯¹ react äº‹ä»¶ä½“ç³»å°±å¯ä»¥å…±å­˜äº†&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è§£å†³éšæ‚£&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;åœ¨ React 16 ä¸­åˆ›å»ºçš„ &lt;code class=&quot;language-text&quot;&gt;document.addEventListener&lt;/code&gt;ï¼Œå³ä½¿åœ¨æŸä¸ªäº‹ä»¶ä¸­è°ƒç”¨äº† &lt;code class=&quot;language-text&quot;&gt;e.stopPropagation&lt;/code&gt;ï¼Œè¿˜æ˜¯ä¼šæ‰§è¡Œï¼Œå› ä¸ºåŸç”Ÿäº‹ä»¶éƒ½å·²ç»å¤„äº document çº§åˆ«ã€‚ä½¿ç”¨ React 17 å†’æ³¡å°†è¢«é˜»æ­¢ï¼ˆæŒ‰éœ€ï¼‰ï¼Œå› æ­¤ document çº§åˆ«çš„äº‹ä»¶ç›‘å¬ä¸ä¼šè§¦å‘ã€‚&lt;/p&gt;
&lt;h2 id=&quot;å…¶ä»–é‡å¤§æ›´æ”¹&quot;&gt;&lt;a href=&quot;#%E5%85%B6%E4%BB%96%E9%87%8D%E5%A4%A7%E6%9B%B4%E6%94%B9&quot; aria-hidden class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;å…¶ä»–é‡å¤§æ›´æ”¹&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;å¯¹æ ‡æµè§ˆå™¨&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;onScroll äº‹ä»¶ã€Œä¸å†å†’æ³¡ã€ï¼Œä»¥é˜²æ­¢å‡ºç°å¸¸è§çš„æ··æ·†ã€‚&lt;/li&gt;
&lt;li&gt;React çš„ onFocus å’Œ onBlur äº‹ä»¶å·²åœ¨åº•å±‚åˆ‡æ¢ä¸ºåŸç”Ÿçš„ focusin å’Œ focusout äº‹ä»¶ã€‚å®ƒä»¬æ›´æ¥è¿‘ React ç°æœ‰è¡Œä¸ºï¼Œæœ‰æ—¶è¿˜ä¼šæä¾›é¢å¤–çš„ä¿¡æ¯ã€‚
React ä¹‹å‰çš„ focus å’Œ blur äº‹ä»¶ä¼šå†’æ³¡ï¼Œä½†æ˜¯å¯¹åº”çš„åŸç”Ÿ Dom äº‹ä»¶ä¸ä¼šå†’æ³¡ï¼Œè€ŒåŸç”Ÿ DOM çš„ focusin å’Œ focusout äº‹ä»¶æ˜¯ä¼šå†’æ³¡çš„ï¼Œæ‰€ä»¥åˆ‡æ¢æˆåŸç”Ÿçš„ focusin å’Œ focusout ç¬¦åˆé¢„æœŸã€‚&lt;/li&gt;
&lt;li&gt;æ•è·äº‹ä»¶ï¼ˆä¾‹å¦‚ï¼ŒonClickCaptureï¼‰ç°åœ¨ä½¿ç”¨çš„æ˜¯å®é™…æµè§ˆå™¨ä¸­çš„æ•è·ç›‘å¬å™¨ï¼ˆï¼Ÿä¸æ‡‚ï¼Œæµè§ˆå™¨å¼•æ“ä¸€ç±»çš„ä¸œä¸œï¼Ÿï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å»é™¤äº‹ä»¶æ± &lt;/strong&gt;
React 17 ä¸­ç§»é™¤äº† â€œevent poolingï¼ˆäº‹ä»¶æ± ï¼‰â€&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;å‰¯ä½œç”¨æ¸…ç†æ—¶é—´&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token function&quot;&gt;useEffect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// This is the effect itself.&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// This is its cleanup.&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;å‰¯ä½œç”¨æ¸…ç†å‡½æ•°ï¼ˆå¦‚æœå­˜åœ¨ï¼‰åœ¨ React 16 ä¸­åŒæ­¥è¿è¡Œï¼Œå¯èƒ½ä¼šåœ¨æ ‡ç­¾åˆ‡æ¢æ—¶å‡ç¼“å±å¹•çš„è¿‡æ¸¡ã€‚æ‰€ä»¥åœ¨ React 17 ä¸­ï¼Œå‰¯ä½œç”¨æ¸…ç†å‡½æ•°ä¼šå¼‚æ­¥æ‰§è¡Œï¼Œæ¸…ç†ä¼šåœ¨å±å¹•æ›´æ–°åæ‰§è¡Œã€‚
æ­¤å¤–ï¼ŒReact 17 ä¼šæ ¹æ®å®ƒä»¬åœ¨æ ‘ä¸­çš„ä½ç½®ï¼Œä»¥ä¸æ•ˆæœç›¸åŒçš„é¡ºåºæ‰§è¡Œæ¸…é™¤åŠŸèƒ½ã€‚ä»¥å‰ï¼Œé¡ºåºæœ‰æ—¶ä¼šä¸åŒã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;è¿”å›ä¸€è‡´çš„ undefined é”™è¯¯&lt;/strong&gt;
ã€Œåœ¨ React 17 ä¸­ï¼ŒforwardRef å’Œ memo ç»„ä»¶çš„è¡Œä¸ºä¼šä¸å¸¸è§„å‡½æ•°ç»„ä»¶å’Œ class ç»„ä»¶ä¿æŒä¸€è‡´ã€‚åœ¨è¿”å› undefined æ—¶ä¼šæŠ¥é”™ã€&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;åŸç”Ÿç»„ä»¶æ ˆ&lt;/strong&gt;
ã€Œåœ¨ React 17 ä¸­ï¼Œä½¿ç”¨äº†ä¸åŒçš„æœºåˆ¶ç”Ÿæˆç»„ä»¶å †æ ˆï¼Œè¯¥æœºåˆ¶ä¼šå°†å®ƒä»¬ä¸å¸¸è§„çš„åŸç”Ÿ JavaScript å †æ ˆç¼åˆåœ¨ä¸€èµ·ã€‚è¿™ä½¿å¾—ä½ å¯ä»¥åœ¨ç”Ÿäº§ç¯å¢ƒä¸­è·å¾—å®Œå…¨ç¬¦å·åŒ–çš„ React ç»„ä»¶å †æ ˆä¿¡æ¯ã€‚ã€
React 17 çš„æŠ¥é”™ä¿¡æ¯åœ¨ console ä¸­å¯ä»¥çœ‹åˆ°æ˜¯å“ªä¸ªç»„ä»¶æŠ›å‡ºçš„é”™è¯¯ï¼Œä¼šæ‰“å°å‡ºâ€œç»„ä»¶æ ˆâ€çš„ä¿¡æ¯ï¼Œè€Œä¸”å¯ä»¥ç‚¹å‡»ç´¢å¼•åˆ°ä»£ç ä½ç½®ï¼Œå°±åƒ js æŠ›å‡ºçš„é”™è¯¯é‚£æ ·ã€‚
å¯ä»¥åœ¨ context ä¸­è®¾ç½® displayName ä»¥æ”¹å–„è°ƒç”¨æ ˆä¿¡æ¯ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ç§»é™¤ç§æœ‰å¯¼å‡º&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;å…¨æ–°çš„-jsx-è½¬æ¢&quot;&gt;&lt;a href=&quot;#%E5%85%A8%E6%96%B0%E7%9A%84-jsx-%E8%BD%AC%E6%8D%A2&quot; aria-hidden class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;å…¨æ–°çš„ JSX è½¬æ¢&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;æœ‰å¦‚ä¸‹æºä»£ç ï¼š&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; React &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;react&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;App&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;h1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token plain-text&quot;&gt;Hello World&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;h1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æ—§çš„ jsx è½¬æ¢&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; React &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;react&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;App&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; React&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;createElement&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;h1&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;Hello world&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æ–°çš„ jsx è½¬æ¢&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// ç”±ç¼–è¯‘å™¨å¼•å…¥ï¼ˆç¦æ­¢è‡ªå·±å¼•å…¥ï¼ï¼‰&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;jsx &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; _jsx&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;react/jsx-runtime&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;App&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;_jsx&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;h1&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; children&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;Hello world&apos;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;å‚è€ƒï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://mp.weixin.qq.com/s/fpcTFFnOS6JwLi7wq3OF0w&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;https://mp.weixin.qq.com/s/fpcTFFnOS6JwLi7wq3OF0w&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://reactjs.org/blog/2020/08/10/react-v17-rc.html&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;https://reactjs.org/blog/2020/08/10/react-v17-rc.html&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
                &lt;div style=&quot;margin-top=55px; font-style: italic;&quot;&gt;(This is an article posted to my blog at write.of-my.life. You can read it online by &lt;a href=&quot;https://zitup.github.io/overlog/react-17/&quot;&gt;clicking here&lt;/a&gt;.)&lt;/div&gt;
              </content:encoded></item><item><title><![CDATA[ä¸€ä¸ªå®‰å“ 4.4 H5 çš„å…¼å®¹æ€§é—®é¢˜]]></title><description><![CDATA[react 16ã€localStorage]]></description><link>https://zitup.github.io/overlog/an-android-4-4-problem/</link><guid isPermaLink="false">https://zitup.github.io/overlog/an-android-4-4-problem/</guid><pubDate>Tue, 22 Sep 2020 00:00:00 GMT</pubDate><content:encoded>&lt;h2 id=&quot;è§£å†³è¿‡ç¨‹&quot;&gt;&lt;a href=&quot;#%E8%A7%A3%E5%86%B3%E8%BF%87%E7%A8%8B&quot; aria-hidden class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;è§£å†³è¿‡ç¨‹&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;ç°è±¡&lt;/strong&gt; æ˜¯ react 16+ åœ¨ android4.4 çš„ webview å’Œè‡ªå¸¦çš„æµè§ˆå™¨å†…ï¼Œä¼šç™½å±ï¼Œæœ¬æ¥ä»¥ä¸ºåªæ˜¯ react 16 çš„å…¼å®¹æ€§é—®é¢˜ï¼Œæäº†åŠå¤©ï¼Œè¿˜æœ‰åˆ«çš„å…¼å®¹æ€§é—®é¢˜â€¦&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;é¦–å…ˆ&lt;/strong&gt;æ˜¯ react 16 è¿è¡Œçš„ JS ç¯å¢ƒè¦æ±‚ï¼Œçœ‹è¿™é‡Œ&lt;a href=&quot;https://zh-hans.reactjs.org/docs/javascript-environment-requirements.html&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;å®˜æ–¹è¯´æ˜&lt;/a&gt;ï¼Œè¯´å¾—å¾ˆæ¸…æ¥šäº†ï¼Œå› ä¸ºç”¨åˆ°äº† &lt;code class=&quot;language-text&quot;&gt;Map&lt;/code&gt; å’Œ &lt;code class=&quot;language-text&quot;&gt;Set&lt;/code&gt;ï¼Œè€Œè¿™ä¿©çš„å…¼å®¹æ€§ä¹Ÿæœ‰è¦æ±‚ï¼Œæ‰€ä»¥éœ€è¦åŠ ä¸Š polyfillï¼Œå®˜æ–¹æœ‰ä¿©æ¨èï¼š&lt;code class=&quot;language-text&quot;&gt;core-js&lt;/code&gt; å’Œ &lt;code class=&quot;language-text&quot;&gt;babel-polyfill&lt;/code&gt;ã€‚
æˆ‘ç”¨çš„æ˜¯ &lt;code class=&quot;language-text&quot;&gt;core-js&lt;/code&gt; ï¼Œåƒæ–‡æ¡£é‡Œé‚£æ ·ï¼ŒæŠŠå¼•ç”¨æ”¾åˆ°å…¥å£æ–‡ä»¶çš„&lt;strong&gt;æœ€&lt;/strong&gt;é¡¶éƒ¨ï¼Œæˆ–è€…æ”¾åˆ° &lt;code class=&quot;language-text&quot;&gt;webpack&lt;/code&gt; çš„æ‰“åŒ…å…¥å£é‡Œã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ç„¶å&lt;/strong&gt;æŠŠä¸Šé¢æå®Œäº†ï¼Œè¿˜æ˜¯ç™½å±ï¼Œæ€€ç–‘æ˜¯å¼•ç”¨çš„å§¿åŠ¿ä¸å¯¹ï¼ŒæŠŠ &lt;code class=&quot;language-text&quot;&gt;core-js&lt;/code&gt; æ”¹åˆ°äº† &lt;code class=&quot;language-text&quot;&gt;webpack&lt;/code&gt; çš„å…¥å£é‚£é‡Œâ€¦å…¶å®æ˜¯ä¸€æ ·çš„ï¼Œåªæ˜¯è¿˜æœ‰åˆ«çš„é”™è¯¯ã€‚å†å°è¯•ä½¿ç”¨ &lt;code class=&quot;language-text&quot;&gt;window.onerror&lt;/code&gt; æ•è·é”™è¯¯ï¼Œåªå¼¹å‡ºä¸€ä¸ªå­—ç¬¦ä¸² &lt;code class=&quot;language-text&quot;&gt;Script error.&lt;/code&gt;ï¼Œæ²¡æœ‰ä»€ä¹ˆæœ‰æ•ˆä¿¡æ¯ï¼Œä¹Ÿä¸è¡Œï¼Œå†å°è¯•æœ€ç¬¨çš„åŠæ³•ï¼Œä»å…¥å£æ–‡ä»¶å¼€å§‹ï¼Œä¸€æ­¥ä¸€ä¸ª &lt;code class=&quot;language-text&quot;&gt;alert&lt;/code&gt;ï¼Œæœ€åç»ˆäºå®šä½åˆ°äº†ä¸€ä¸ªæ–¹æ³•ï¼Œå†…éƒ¨ç”¨åˆ°äº† &lt;code class=&quot;language-text&quot;&gt;localStorage&lt;/code&gt;ï¼Œæ‰“å° &lt;code class=&quot;language-text&quot;&gt;window.localStorage&lt;/code&gt; æ˜¯ &lt;code class=&quot;language-text&quot;&gt;null&lt;/code&gt;ï¼Œæ‰¾åˆ°é—®é¢˜å°±å¥½è§£å†³äº†ï¼Œåˆ¤æ–­ä¸€ä¸‹æ˜¯å¦å­˜åœ¨ï¼Œåšäº†å…¼å®¹å¤„ç†ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;åç»­æŸ¥æ‰¾ &lt;code class=&quot;language-text&quot;&gt;Script error.&lt;/code&gt; è¿™å‡ ä¸ªå­—ç¬¦æ˜¯æµè§ˆå™¨çš„åŒæºç­–ç•¥ï¼ˆSame Origin Policy &lt;a href=&quot;https://blog.sentry.io/2016/05/17/what-is-script-error&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;å‚è€ƒè¿™é‡Œ&lt;/a&gt;ï¼‰ï¼Œå› ä¸º js æ˜¯æ”¾åœ¨ cdn ä¸Šï¼Œè§¦å‘äº†åŒæºé™åˆ¶ï¼Œæµè§ˆå™¨ä¸ºäº†é¿å…ä¿¡æ¯æ³„æ¼ï¼Œåªå±•ç¤ºè„šæœ¬é”™è¯¯å‡ ä¸ªå­—ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;å‡ ä¸ªå…³é”®ç‚¹&quot;&gt;&lt;a href=&quot;#%E5%87%A0%E4%B8%AA%E5%85%B3%E9%94%AE%E7%82%B9&quot; aria-hidden class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;å‡ ä¸ªå…³é”®ç‚¹&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;è§£å†³é—®é¢˜æ²¡æœ‰æ˜ç¡®çš„æ€è·¯ï¼Œä¸€ç›´æŠ±æœ‰ä¾¥å¹¸å¿ƒç†ï¼Œèƒ¡ä¹±å°è¯•ï¼Œæµªè´¹äº†å¾ˆå¤šæ—¶é—´ï¼Œå…¶å®ç§‘å­¦çš„è§£å†³æ€è·¯æ‰æ˜¯è§£å†³é—®é¢˜çš„æœ€å¿«åŠæ³•&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å®Œå–„é”™è¯¯æŠ¥è­¦&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ç¬¬ä¸€ä¸ªé—®é¢˜æ˜¯ react 16 çš„å…¼å®¹æ€§é—®é¢˜ï¼Œä¼šç›´æ¥å¯¼è‡´æ¸²æŸ“å‡ºé”™ï¼Œå°è¯•äº†ä½¿ç”¨&lt;a href=&quot;https://zh-hans.reactjs.org/docs/error-boundaries.html&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;é”™è¯¯è¾¹ç•Œ&lt;/a&gt;åŒ…è£¹æ ¹ç»„ä»¶ï¼Œæ²¡æœ‰æŠ¥å‡ºé”™è¯¯ï¼Œåº”è¯¥æ˜¯å…¼å®¹æ€§é—®é¢˜å¯¼è‡´é”™è¯¯è¾¹ç•Œç»„ä»¶æœ¬èº«ä¹Ÿæ— æ³•æ­£ç¡®æ¸²æŸ“äº†ï¼ˆçŒœæµ‹æ˜¯è¿™æ ·ï¼Œæ²¡æœ‰çœ‹è¿‡æºç ï¼‰ï¼Œè¿™æ ·çš„å…¼å®¹æ€§é—®é¢˜è²Œä¼¼æ²¡æœ‰å¥½çš„é”™è¯¯æŠ¥è­¦æ–¹å¼&lt;/li&gt;
&lt;li&gt;äº‹ä»¶å¤„ç†å™¨å†…éƒ¨çš„é”™è¯¯ï¼Œä¹Ÿå°±æ˜¯ js çš„æ‰§è¡Œé”™è¯¯ï¼Œåªèƒ½å¤šä½¿ç”¨ &lt;code class=&quot;language-text&quot;&gt;try catch&lt;/code&gt; åŒ…ä½ï¼Œå°½é‡é¿å…ç›´æ¥å´©æºƒçš„æƒ…å†µï¼Œè¿˜å¯ä»¥åŠæ—¶ä¸ŠæŠ¥ã€‚å¦‚æœä½¿ç”¨äº† &lt;code class=&quot;language-text&quot;&gt;sentry&lt;/code&gt;ï¼Œåç«¯è¾ƒå®¹æ˜“å¤„ç†ï¼Œå¯ä»¥è‡ªåŠ¨æ•è·ç›´æ¥æŠ›å‡ºæ¥çš„é”™è¯¯ï¼Œå‰ç«¯ç›¸å¯¹æ¥è¯´æ¯”è¾ƒéº»çƒ¦ï¼Œåªèƒ½æ‰‹åŠ¨æ•è·ä¸ŠæŠ¥äº†ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;ä¸€ä¸ªæ‰‹æœºç«¯è°ƒè¯•å·¥å…·&quot;&gt;&lt;a href=&quot;#%E4%B8%80%E4%B8%AA%E6%89%8B%E6%9C%BA%E7%AB%AF%E8%B0%83%E8%AF%95%E5%B7%A5%E5%85%B7&quot; aria-hidden class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;ä¸€ä¸ªæ‰‹æœºç«¯è°ƒè¯•å·¥å…·&lt;/h2&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/liriliri/eruda&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;eruda&lt;/a&gt;ï¼Œå¯ä»¥å±•ç¤º &lt;code class=&quot;language-text&quot;&gt;console&lt;/code&gt; çš„æ¶ˆæ¯ï¼Œä¸€å®šç¨‹åº¦ä¸Šå¯èƒ½æœ‰ç”¨ã€‚&lt;/p&gt;
                &lt;div style=&quot;margin-top=55px; font-style: italic;&quot;&gt;(This is an article posted to my blog at write.of-my.life. You can read it online by &lt;a href=&quot;https://zitup.github.io/overlog/an-android-4-4-problem/&quot;&gt;clicking here&lt;/a&gt;.)&lt;/div&gt;
              </content:encoded></item><item><title><![CDATA[Semantic]]></title><description><![CDATA[å‰ç«¯ä¸­çš„è¯­ä¹‰åŒ–]]></description><link>https://zitup.github.io/overlog/semantic/</link><guid isPermaLink="false">https://zitup.github.io/overlog/semantic/</guid><pubDate>Wed, 09 Sep 2020 00:00:00 GMT</pubDate><content:encoded>&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;JS ä¸­çš„è¯­ä¹‰åŒ–&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä¸»è¦æ˜¯å‡½æ•°ã€å˜é‡ç­‰å‘½åçš„æ–¹å¼ï¼Œé€šè¿‡å‘½åå°±å¯ä»¥çœ‹å‡ºä½œç”¨ï¼Œä¸ç”¨å»äº†è§£å†…éƒ¨å®ç°æˆ–è€…å…·ä½“ä½¿ç”¨ï¼Œæ¯”å¦‚&lt;code class=&quot;language-text&quot;&gt;React&lt;/code&gt;çš„ APIï¼š&lt;code class=&quot;language-text&quot;&gt;getDerivedStateFromProps&lt;/code&gt;ã€&lt;code class=&quot;language-text&quot;&gt;componentDidMount&lt;/code&gt;ï¼Œå‘½åéƒ½å¾ˆè¯­ä¹‰åŒ–&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;CSS ä¸­çš„è¯­ä¹‰åŒ–&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä¸»è¦æ˜¯ä½¿ç”¨å›ºå®šçš„å±æ€§å»é€‰å…ƒç´ ï¼Œæ¯”å¦‚ &lt;code class=&quot;language-text&quot;&gt;.fruits__item&lt;/code&gt; ä¼˜äº &lt;code class=&quot;language-text&quot;&gt;div &amp;gt; ul &amp;gt; li&lt;/code&gt;ï¼Œå‰è€…å¾ˆå¿«å°±å¯ä»¥å®šä½åˆ°å¯¹åº”çš„å…ƒç´ &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;HTML ä¸­çš„è¯­ä¹‰åŒ–&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä¸»è¦æ˜¯æ ‡ç­¾æœ‰ç‰¹å®šçš„å«ä¹‰ï¼Œä¸»è¦ä½“ç°åœ¨ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;æœ¬èº«å‘½åçš„è¯­ä¹‰åŒ–&lt;/strong&gt;ï¼šæ¯”å¦‚ &lt;code class=&quot;language-text&quot;&gt;header aside footer article main footer&lt;/code&gt;ï¼Œä»åå­—å°±å¯ä»¥çœ‹å‡ºå®ƒçš„ä½œç”¨ï¼Œç›¸æ¯”é¡µé¢å……æ–¥ç€å¾ˆå¤šçš„&lt;code class=&quot;language-text&quot;&gt;div&lt;/code&gt;ï¼Œä»£ç æ›´æ¸…æ™°ï¼ŒæŸ¥æ‰¾èµ·æ¥ä¹Ÿæ›´å¿«&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;SEO å‹å¥½&lt;/strong&gt;ï¼šæ¯”å¦‚ &lt;code class=&quot;language-text&quot;&gt;h1&lt;/code&gt; æ ‡ç­¾ï¼Œæœç´¢å¼•æ“ä¼šæŠŠå®ƒçš„å†…å®¹å½“ä½œä¸€ä¸ªé‡è¦çš„å…³é”®è¯ï¼Œä»è€Œå½±å“æœç´¢æ’åº&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å¯è®¿é—®æ€§å¼º&lt;/strong&gt;ï¼šå±å¹•é˜…è¯»å™¨å–œæ¬¢è¯­ä¹‰æ˜ç¡®çš„æ ‡ç­¾ï¼Œè®©ç•Œé¢æœ‰æ›´å¥½å¯¹ä½“éªŒï¼Œæ— éšœç¢æ€§ä¹Ÿä¼šæ¯”è¾ƒå¥½&lt;/li&gt;
&lt;/ol&gt;
                &lt;div style=&quot;margin-top=55px; font-style: italic;&quot;&gt;(This is an article posted to my blog at write.of-my.life. You can read it online by &lt;a href=&quot;https://zitup.github.io/overlog/semantic/&quot;&gt;clicking here&lt;/a&gt;.)&lt;/div&gt;
              </content:encoded></item><item><title><![CDATA[åœ¨å‘½ä»¤è¡Œä½¿ç”¨è°·æ­Œæœç´¢]]></title><description><![CDATA[æé«˜æ•ˆç‡å°çŸ¥è¯† search in termianl]]></description><link>https://zitup.github.io/overlog/search-in-terminal/</link><guid isPermaLink="false">https://zitup.github.io/overlog/search-in-terminal/</guid><pubDate>Thu, 03 Sep 2020 00:00:00 GMT</pubDate><content:encoded>&lt;blockquote&gt;
&lt;p&gt;å…³é”®è¯ï¼š mac ææ•ˆ å‘½ä»¤è¡Œæœç´¢ search in termianl&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;åœ¨ç»ˆç«¯çš„ &lt;code class=&quot;language-text&quot;&gt;bash_profile&lt;/code&gt; ä¸­æ·»åŠ ä»¥ä¸‹ä»£ç (å¦‚æœä½¿ç”¨ &lt;code class=&quot;language-text&quot;&gt;zsh&lt;/code&gt; ï¼Œåˆ™æ˜¯ &lt;code class=&quot;language-text&quot;&gt;zshrc&lt;/code&gt; æ–‡ä»¶)&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;token function-name function&quot;&gt;google&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token function&quot;&gt;open&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;https://www.google.com/search?q=&lt;span class=&quot;token variable&quot;&gt;$1&lt;/span&gt;&quot;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;ç„¶å &lt;code class=&quot;language-text&quot;&gt;source ~/.bash_profile&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;å‘½ä»¤è¡Œä¸­è¾“å…¥ &lt;code class=&quot;language-text&quot;&gt;google test&lt;/code&gt;ï¼Œç›´æ¥è·³è½¬åˆ°æµè§ˆå™¨æœç´¢ç•Œé¢&lt;br&gt;
å¤šå­—ç¬¦ä¸²æœç´¢ç”¨åŒå¼•å·åŒ…ä½ &lt;code class=&quot;language-text&quot;&gt;google &amp;quot;str str str&amp;quot;&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;æœç´¢ç»ˆç«¯ä¸­çš„é—®é¢˜ï¼Œæ›´å¿«æ›´ä¾¿æ·æ›´æå®¢ï¼&lt;br&gt;
æ¨èæŒ‡æ•°ğŸŒŸğŸŒŸğŸŒŸğŸŒŸğŸŒŸğŸ˜„&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;é¡ºå¸¦æä¸‹ï¼Œvscode ä¹Ÿæœ‰ä¸€ä¸ªåœ¨ç»ˆç«¯å¿«é€Ÿæ‰“å¼€å½“å‰æ–‡ä»¶å¤¹çš„å‘½ä»¤ &lt;code class=&quot;language-text&quot;&gt;code .&lt;/code&gt;&lt;br&gt;
&lt;code class=&quot;language-text&quot;&gt;command+shift+p&lt;/code&gt; å¬å”¤å‡ºé¢æ¿ï¼Œé€‰æ‹© &lt;code class=&quot;language-text&quot;&gt;install &amp;#39;code&amp;#39; ...&lt;/code&gt; å®‰è£…å³å¯&lt;/p&gt;
                &lt;div style=&quot;margin-top=55px; font-style: italic;&quot;&gt;(This is an article posted to my blog at write.of-my.life. You can read it online by &lt;a href=&quot;https://zitup.github.io/overlog/search-in-terminal/&quot;&gt;clicking here&lt;/a&gt;.)&lt;/div&gt;
              </content:encoded></item><item><title><![CDATA[sentry éƒ¨ç½²æç®€æ•™ç¨‹]]></title><description><![CDATA[docker ä¸€é”®éƒ¨ç½²]]></description><link>https://zitup.github.io/overlog/sentry/</link><guid isPermaLink="false">https://zitup.github.io/overlog/sentry/</guid><pubDate>Mon, 31 Aug 2020 00:00:00 GMT</pubDate><content:encoded>&lt;blockquote&gt;
&lt;p&gt;å…³é”®è¯ï¼š sentry docker æ›´æ¢æº&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;1-å…‹éš†-sentry-å®˜æ–¹éƒ¨ç½²ä»“åº“&quot;&gt;&lt;a href=&quot;#1-%E5%85%8B%E9%9A%86-sentry-%E5%AE%98%E6%96%B9%E9%83%A8%E7%BD%B2%E4%BB%93%E5%BA%93&quot; aria-hidden class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;1. å…‹éš† sentry å®˜æ–¹éƒ¨ç½²ä»“åº“&lt;/h2&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token function&quot;&gt;git&lt;/span&gt; clone https://github.com/getsentry/onpremise&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id=&quot;2-å®‰è£…-docker-docker-compose&quot;&gt;&lt;a href=&quot;#2-%E5%AE%89%E8%A3%85-docker-docker-compose&quot; aria-hidden class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;2. å®‰è£… docker docker-compose&lt;/h2&gt;
&lt;h3 id=&quot;ç‰ˆæœ¬è¦æ±‚&quot;&gt;&lt;a href=&quot;#%E7%89%88%E6%9C%AC%E8%A6%81%E6%B1%82&quot; aria-hidden class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;strong&gt;ç‰ˆæœ¬è¦æ±‚&lt;/strong&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Docker 17.05.0+&lt;/li&gt;
&lt;li&gt;Compose 1.23.0+&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;Ubuntu16-18 å®‰è£…&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&quot;å®‰è£…-docker&quot;&gt;&lt;a href=&quot;#%E5%AE%89%E8%A3%85-docker&quot; aria-hidden class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;strong&gt;å®‰è£… docker&lt;/strong&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;åˆ é™¤æ—§ç‰ˆæœ¬ Docker&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;sudo apt-get remove docker docker-engine docker.io&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æ·»åŠ  Docker è½¯ä»¶æº&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token function&quot;&gt;sudo&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;apt-get&lt;/span&gt; update
&lt;span class=&quot;token function&quot;&gt;sudo&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;apt-get&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;install&lt;/span&gt; apt-transport-https ca-certificates  &lt;span class=&quot;token function&quot;&gt;curl&lt;/span&gt; software-properties-common
&lt;span class=&quot;token function&quot;&gt;curl&lt;/span&gt; -fsSL https://mirrors.ustc.edu.cn/docker-ce/linux/ubuntu/gpg &lt;span class=&quot;token operator&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;sudo&lt;/span&gt; apt-key &lt;span class=&quot;token function&quot;&gt;add&lt;/span&gt; -
&lt;span class=&quot;token function&quot;&gt;sudo&lt;/span&gt; add-apt-repository &lt;span class=&quot;token string&quot;&gt;&quot;deb [arch=amd64] https://mirrors.ustc.edu.cn/docker-ce/linux/ubuntu &lt;span class=&quot;token variable&quot;&gt;&lt;span class=&quot;token variable&quot;&gt;$(&lt;/span&gt;lsb_release -cs&lt;span class=&quot;token variable&quot;&gt;)&lt;/span&gt;&lt;/span&gt; stable&quot;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å®‰è£… Docker CEï¼ˆç¤¾åŒºç‰ˆï¼‰&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token function&quot;&gt;sudo&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;apt-get&lt;/span&gt; update -y
&lt;span class=&quot;token function&quot;&gt;sudo&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;apt-get&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;install&lt;/span&gt; docker-ce -y&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;è®¾ç½®å¼€æœºå¯åŠ¨&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token function&quot;&gt;sudo&lt;/span&gt; systemctl &lt;span class=&quot;token builtin class-name&quot;&gt;enable&lt;/span&gt; docker
&lt;span class=&quot;token function&quot;&gt;sudo&lt;/span&gt; systemctl start docker&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æŠŠå½“å‰ç”¨æˆ·åŠ å…¥ docker ç»„&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token function&quot;&gt;sudo&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;groupadd&lt;/span&gt; docker
&lt;span class=&quot;token function&quot;&gt;sudo&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;usermod&lt;/span&gt; -aG docker &lt;span class=&quot;token environment constant&quot;&gt;$USER&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æµ‹è¯•&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;docker run hello-world&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&quot;å®‰è£…-docker-compose&quot;&gt;&lt;a href=&quot;#%E5%AE%89%E8%A3%85-docker-compose&quot; aria-hidden class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;strong&gt;å®‰è£… docker-compose&lt;/strong&gt;&lt;/h3&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å®‰è£…&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token function&quot;&gt;sudo&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;curl&lt;/span&gt; -L https://github.com/docker/compose/releases/download/1.18.0/docker-compose-&lt;span class=&quot;token variable&quot;&gt;&lt;span class=&quot;token variable&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;uname&lt;/span&gt; -s&lt;span class=&quot;token variable&quot;&gt;`&lt;/span&gt;&lt;/span&gt;-&lt;span class=&quot;token variable&quot;&gt;&lt;span class=&quot;token variable&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;uname&lt;/span&gt; -m&lt;span class=&quot;token variable&quot;&gt;`&lt;/span&gt;&lt;/span&gt; -o /usr/local/bin/docker-compose
&lt;span class=&quot;token function&quot;&gt;sudo&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;chmod&lt;/span&gt; +x /usr/local/bin/docker-compose&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æµ‹è¯•&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;  docker-compose --version&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;mac å®‰è£…  &lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;  ç›´æ¥å®˜ç½‘ä¸‹è½½å®‰è£…ï¼Œ&lt;a href=&quot;https://docs.docker.com/docker-for-mac/install/&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;åœ°å€ç‚¹æˆ‘&lt;/a&gt;ï¼Œå›½å†…ä¸‹è½½è¾ƒæ…¢ï¼Œå¯ä»¥ä½¿ç”¨è¿…é›·ä¸‹è½½ï¼ˆè¿…é›·ç”¨å®Œå°±åˆ ğŸ˜¼ï¼‰ï¼ŒDocker for Mac å’Œ Docker Toolbox å·²ç»åŒ…å«äº† Compose , æ‰€ä»¥ Mac ç”¨æˆ·ä¸ç”¨å•ç‹¬å®‰è£…Compose&lt;/p&gt;
&lt;h2 id=&quot;3-æœ€é‡è¦çš„ä¸€æ­¥ï¼šæ›´æ¢æº&quot;&gt;&lt;a href=&quot;#3-%E6%9C%80%E9%87%8D%E8%A6%81%E7%9A%84%E4%B8%80%E6%AD%A5%EF%BC%9A%E6%9B%B4%E6%8D%A2%E6%BA%90&quot; aria-hidden class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;3. æœ€é‡è¦çš„ä¸€æ­¥ï¼šæ›´æ¢æº&lt;/h2&gt;
&lt;p&gt;è¿™é‡Œä¸»è¦æ›´æ¢ä¸¤å¤„æº&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;æ›´æ¢ docker é•œåƒæº&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsxon&quot;&gt;&lt;pre class=&quot;language-jsxon&quot;&gt;&lt;code class=&quot;language-jsxon&quot;&gt;&amp;quot;registry-mirrors&amp;quot;: [
  &amp;quot;https://xxxxxx.mirror.aliyuncs.com&amp;quot;,
  &amp;quot;http://docker.mirrors.ustc.edu.cn&amp;quot;,
  &amp;quot;http://hub-mirror.c.163.com&amp;quot;
]&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;æ›´æ¢ apt-get æº(é‡è¦ï¼ï¼ï¼)&lt;/strong&gt;&lt;br&gt;
è¿™é‡Œæ˜¯ä¿®æ”¹é•œåƒä¸­ apt debian çš„æºï¼Œå¦åˆ™å›½å†…ä¸‹è½½è¦å¾ˆä¹…å¾ˆä¹…  &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è¿›åˆ°ç¬¬ä¸€æ­¥å…‹éš†çš„ onpremise ç›®å½•&lt;/li&gt;
&lt;li&gt;æ‰“å¼€ cron ä¸‹çš„ Dockerfile&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å°†&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;RUN &lt;span class=&quot;token function&quot;&gt;apt-get&lt;/span&gt; update &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;apt-get&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;install&lt;/span&gt; -y --no-install-recommends &lt;span class=&quot;token function&quot;&gt;cron&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;rm&lt;/span&gt; -r /var/lib/apt/lists/*&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;æ›¿æ¢æˆ&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;RUN &lt;span class=&quot;token function&quot;&gt;sed&lt;/span&gt; -i &lt;span class=&quot;token string&quot;&gt;&quot;s@http://deb.debian.org@http://mirrors.aliyun.com@g&quot;&lt;/span&gt; /etc/apt/sources.list
RUN &lt;span class=&quot;token function&quot;&gt;sed&lt;/span&gt; -i &lt;span class=&quot;token string&quot;&gt;&quot;s@http://security.debian.org/debian-security@http://mirrors.aliyun.com/debian-security@g&quot;&lt;/span&gt; /etc/apt/sources.list &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;rm&lt;/span&gt; -Rf /var/lib/apt/lists/*

RUN &lt;span class=&quot;token function&quot;&gt;apt-get&lt;/span&gt; update &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;apt-get&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;install&lt;/span&gt; -y --no-install-recommends &lt;span class=&quot;token function&quot;&gt;cron&lt;/span&gt; apt-utils &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;
    &lt;span class=&quot;token function&quot;&gt;rm&lt;/span&gt; -r /var/lib/apt/lists/*&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;4-æœ€å&quot;&gt;&lt;a href=&quot;#4-%E6%9C%80%E5%90%8E&quot; aria-hidden class=&quot;anchor&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;4. æœ€å&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;onpremise ç›®å½•ä¸‹ &lt;code class=&quot;language-text&quot;&gt;./install.sh&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å¯åŠ¨&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;docker-compose up -d&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;åœæ­¢&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;docker-compose stop&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ç»“æŸï¼Œå®Œç¾ã€‚&lt;/p&gt;
                &lt;div style=&quot;margin-top=55px; font-style: italic;&quot;&gt;(This is an article posted to my blog at write.of-my.life. You can read it online by &lt;a href=&quot;https://zitup.github.io/overlog/sentry/&quot;&gt;clicking here&lt;/a&gt;.)&lt;/div&gt;
              </content:encoded></item><item><title><![CDATA[react 15.4.2 åˆ° 16.13.1 å‡çº§è¿‡ç¨‹]]></title><description><![CDATA[çº¯è®°å½•]]></description><link>https://zitup.github.io/overlog/react-15-to-16/</link><guid isPermaLink="false">https://zitup.github.io/overlog/react-15-to-16/</guid><pubDate>Sat, 08 Aug 2020 00:00:00 GMT</pubDate><content:encoded>&lt;ol&gt;
&lt;li&gt;react 16.9.0 å‰¥ç¦»äº† &lt;code class=&quot;language-text&quot;&gt;prop-types&lt;/code&gt;ï¼Œéœ€è¦å®‰è£… &lt;code class=&quot;language-text&quot;&gt;prop-types&lt;/code&gt; å•ç‹¬å¼•ç”¨&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;javascript:; &amp;#39;&amp;#39; React 16.9.0 deprecates javascript: URLs&lt;/code&gt;
å› ä¸ºå®‰å…¨åŸå› ï¼Œreact 16.9 å¼€å§‹ç¦ç”¨äº† &lt;code class=&quot;language-text&quot;&gt;javascript:&lt;/code&gt; é“¾æ¥ï¼Œç”¨ &lt;code class=&quot;language-text&quot;&gt;onClick={e =&amp;gt; e.preventDefault()}&lt;/code&gt; ä»£æ›¿ï¼Œæˆ–è€…ä½¿ç”¨buttonæŒ‰é’®ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Warning: A future version of React will block javascript: URLs as a security precaution. Use event handlers instead if you can. If you need to generate unsafe HTML try using dangerouslySetInnerHTML instead. React was passed â€œjavascript:void(0)â€œ.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;language-text&quot;&gt;react-hot-loader&lt;/code&gt; æ¨èä½¿ç”¨ &lt;code class=&quot;language-text&quot;&gt;react-refresh&lt;/code&gt; ä»£æ›¿äº†&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;setstate ä¸­å†è°ƒç”¨ setstate&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Warning: An update (setState, replaceState, or forceUpdate) was scheduled from inside an update function. Update functions should be pure, with zero side-effects. Consider using componentDidUpdate or a callback.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;é—®é¢˜å‡ºåœ¨ç”¨ this.setState çš„ callback çš„æ–¹å¼ï¼Œä½†æ˜¯åœ¨callbacké‡Œåˆè°ƒç”¨äº†setState, æ¯”å¦‚ï¼š&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setState&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;prevState&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// ...&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setState&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; a&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; aaa &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;æ‰€ä»¥åº”è¯¥è¿”å›æ–°çš„state:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;jsx&quot;&gt;&lt;pre class=&quot;language-jsx&quot;&gt;&lt;code class=&quot;language-jsx&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;setState&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;prevState&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token comment&quot;&gt;// ...&lt;/span&gt;
  &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; a&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; aaa &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;å¦‚æœå¿…é¡»å†ä½¿ç”¨ setState ï¼Œå»ºè®®æ¢ä¸ªå†™æ³•ã€‚&lt;/p&gt;
&lt;p&gt;5 . API æ›¿æ¢&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;componentWillMount
ä¸€èˆ¬åˆå§‹åŒ–æ“ä½œæ”¾åˆ°constructorï¼Œè·å–æ•°æ®ç­‰æœ‰å‰¯ä½œç”¨æ“ä½œæ”¾åˆ°componentDidMount&lt;/li&gt;
&lt;li&gt;componentWillReceiveProps
è¿™ä¸ªAPIæ¶‰åŠåˆ°çˆ¶ç»„ä»¶ï¼Œéœ€è¦ç»“åˆä¸šåŠ¡å’Œæœ¬ç»„ä»¶å†…çš„é€»è¾‘æ¥ä¿®æ”¹ï¼Œä¼˜å…ˆè€ƒè™‘æ‹†åˆ†æ¸…æ¥šç»„ä»¶çŠ¶æ€ï¼Œæœ€å¥½æ˜¯å•ä¸€æ•°æ®æºï¼Œä¹Ÿå¯ä»¥ç”¨getDerivedStateFromPropsæ›¿ä»£ï¼ˆæœ‰å¿…è¦çš„è¯ï¼‰ï¼Œå‚è€ƒ&lt;a href=&quot;https://zh-hans.reactjs.org/blog/2018/06/07/you-probably-dont-need-derived-state.html&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener noreferrer&quot;&gt;ä½ å¯èƒ½ä¸éœ€è¦ä½¿ç”¨æ´¾ç”Ÿ state&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;6 . çˆ¶ç»„ä»¶ä¸¤æ¬¡æ¸²æŸ“ï¼Œå®Œå…¨å—æ§çš„ç»„ä»¶ç›´æ¥ä¿®æ”¹propsï¼Œä¼šæ±¡æŸ“çˆ¶ç»„ä»¶çš„state
åº”è¯¥æ˜¯å’Œ props å¼•ç”¨ç›¸å…³ï¼Œå­ç»„ä»¶çš„é¿å…ç›´æ¥ä¿®æ”¹ï¼Œå¯ä»¥æ·±æ‹·è´ä¸€ä¸ªï¼Œå†æ”¹ã€‚&lt;/p&gt;
                &lt;div style=&quot;margin-top=55px; font-style: italic;&quot;&gt;(This is an article posted to my blog at write.of-my.life. You can read it online by &lt;a href=&quot;https://zitup.github.io/overlog/react-15-to-16/&quot;&gt;clicking here&lt;/a&gt;.)&lt;/div&gt;
              </content:encoded></item></channel></rss>